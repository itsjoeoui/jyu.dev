---
import PageLayout from "@/layouts/BaseLayout.astro";
import Section from "@/components/Section.astro";
import Card from "@/components/Card.astro";

import Label from "@/components/Label.astro";
import SkillLayout from "@/components/SkillLayout.astro";
import PostPreview from "@/components/blog/PostPreview.astro";

import { Image } from "astro:assets";
import pfp from "@/assets/pfp.jpg";

import { getAllPosts, sortMDByDate } from "@/utils";
import { personalConfig } from "@/site.config";
import { Icon } from "astro-icon/components";
// import Chat from "@/components/Chat.astro";

// const languages = [
//   "TypeScript",
//   "JavaScript",
//   "Python",
//   "Golang",
//   "Scala",
//   "Java",
//   "Ruby",
//   "C",
//   "C++",
//   "Rust",
//   "Clojure",
//   "OCaml",
//   "Lua",
// ];
// const frontend = [
//   "React",
//   "Next.js",
//   "Astro",
//   "Electron",
//   "Tailwind CSS",
//   "TanStack",
//   "Docusaurus",
// ];
// const backend = ["FastAPI", "Flask", "Elysia", "net/http", "Chi", "Gin"];
// const databases = ["PostgreSQL", "MySQL", "SQLite", "MongoDB", "Redis"];
// const others = [
//   "gRPC",
//   "GraphQL",
//   "Docker",
//   "Kubernetes",
//   "Terraform",
//   "GitHub Actions",
//   "GitLab Runners",
//   "AWS",
//   "GCP",
//   "Azure",
//   "BigQuery",
//   "Grafana",
//   "Datadog",
// ];

// const interests = ["Observability", "Database", "Infrastructure", "Compiler"];

const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);
---

<PageLayout meta={{ title: "Home" }}>
  <div class="flex w-full flex-col gap-y-10">
    <section
      class="flex flex-col items-center justify-evenly gap-y-2 md:flex-row md:gap-y-6"
    >
      <Image
        src={pfp}
        alt="profile pic"
        class="h-32 w-auto rounded-full bg-[#FFBE98] p-1 md:h-48"
        loading="eager"
      />

      <!-- <div class="md:px-6"></div> -->

      <div class="flex flex-col items-center gap-y-6">
        <h1 class="text-3xl font-bold md:text-6xl">{personalConfig.name}</h1>

        <div class="grid grid-cols-2 gap-4">
          <Label
            title="Shopify"
            as="a"
            href={"https://www.shopify.com"}
            target="_blank"
          >
            <Icon name="work" class="h-6 w-6" />
          </Label>

          <Label
            title="Montreal"
            as="a"
            href={"https://en.wikipedia.org/wiki/Montreal"}
            target="_blank"
          >
            <Icon name="location" class="h-6 w-6" />
          </Label>

          <Label
            title="GitHub"
            as="a"
            href={personalConfig.github}
            target="_blank"
          >
            <Icon name="github" class="h-6 w-6" />
          </Label>

          <Label
            title="LinkedIn"
            as="a"
            href={personalConfig.linkedin}
            target="_blank"
          >
            <Icon name="linkedin" class="h-6 w-6" />
          </Label>
        </div>
        <!-- <Chat /> -->
      </div>
    </section>

    <Section title="About">
      <p class="">
        Hey! I am Joey. Currently finishing up my last year at <a
          href="https://mcgill.ca"
          class="underline"
          target="_blank">McGill University</a
        > studying Computer Science. Expected to graduate in winter 2026.
      </p>
      <p class="">
        There are a couple of things I am quite interested in:
        <ul class="list-inside list-disc">
          <li>Database Systems</li>
          <li>Compilers - I have built a mini C compiler before</li>
          <li>Functional Programming</li>
          <li>Observability</li>
          <li>Text Editor - Neovim</li>
          <li>
            Personal Finance - I am building <a
              href="https://fijoy.app"
              target="_blank"
              class="underline">fijoy.app</a
            >
          </li>
          <li>Food</li>
        </ul>
      </p>
      <p>
        I currently work at <a
          target="_blank"
          class="underline"
          href="https://www.shopify.com">Shopify</a
        >'s observability team, and we are building our in-house observability
        platform called Shopify Observe, which I think is pretty cool!
      </p>
      <p>
        In the past, I worked as a founding engineer at a startup called
        <a
          href="https://techcrunch.com/2023/08/29/flojoy-is-bringing-no-code-python-testing-to-industrial-instrumentation/"
          class="underline"
          target="_blank">Flojoy</a
        >. With my team, we raised 1.3M USD to bring modern test, measurement
        and control (TMC) tooling to heavy industries where software hasn't kept
        up. Besides this, I've worked at companies such as
        <a target="_blank" class="underline" href="https://meta.com/about"
          >Meta</a
        >, <a target="_blank" class="underline" href="https://wealthsimple.com"
          >Wealthsimple</a
        >, etc.
      </p>
      <p>
        If you have similar interests, or just want to say hi and chat, feel
        free to hit me up!
      </p>
    </Section>

    {
      allPostsByDate.length > 0 && (
        <Section title="Posts">
          <ul class="flex flex-col gap-y-2">
            {allPostsByDate.map((p) => (
              <li class="flex flex-col gap-x-2 sm:flex-row">
                <PostPreview post={p} />
              </li>
            ))}
          </ul>
        </Section>
      )
    }

    <!-- <Section title="Interests"> -->
    <!-- <SkillLayout title="Languages" skills={languages} /> -->
    <!-- <SkillLayout title="Languages" skills={languages} /> -->
    <!-- <SkillLayout title="Frontend" skills={frontend} /> -->
    <!-- <SkillLayout title="Backend" skills={backend} /> -->
    <!-- <SkillLayout title="Databases" skills={databases} /> -->
    <!-- <SkillLayout title="" skills={interests} /> -->
    <!-- </Section> -->

    <Section title="Experiences">
      <!-- <Card -->
      <!--   heading="Citadel Securities" -->
      <!--   subheading="Software Engineer Intern" -->
      <!--   date="Jun 2026 - Present" -->
      <!--   imagePath="/src/assets/citadel-securities.jpeg" -->
      <!--   altText="Citadel Securities - Software Engineer Intern" -->
      <!--   imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5" -->
      <!--   href="https://www.citadelsecurities.com/" -->
      <!-- > -->
      <!--   <ul class="ml-4 list-disc text-muted-foreground"> -->
      <!--     <li>Infrastructure Engineering - Observability</li> -->
      <!--   </ul> -->
      <!-- </Card> -->
      <Card
        heading="Shopify"
        subheading="Software Engineer II"
        date="Sep 2025 - Present"
        imagePath="/src/assets/shopify.png"
        altText="Shopify - Software Engineer II"
        imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5"
        href="https://www.shopify.com"
      >
        <ul class="text-muted-foreground ml-4 list-disc">
          <li>Infrastructure Engineering - Observability</li>
        </ul>
      </Card>
      <Card
        heading="Meta"
        subheading="Software Engineer Intern"
        date="May 2025 - Aug 2025"
        imagePath="/src/assets/meta.png"
        altText="Meta - Software Engineer Intern"
        imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5"
        href="https://www.meta.com/about"
      >
        <ul class="text-muted-foreground ml-4 list-disc">
          <li>Infrastructure Engineering - Network Infra</li>
        </ul>
      </Card>
      <Card
        heading="Shopify"
        subheading="Software Engineer Intern"
        date="Jan 2025 - April 2025"
        imagePath="/src/assets/shopify.png"
        altText="Shopify - Engineer Intern"
        imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5"
        href="https://www.shopify.com"
      >
        <ul class="text-muted-foreground ml-4 list-disc">
          <li>Infrastructure Engineering - Observability</li>
        </ul>
      </Card>
      <div>2023 - 2024</div>
      <Card
        heading="Wealthsimple"
        subheading="Software Engineer Intern"
        date="Sep 2024 - Dec 2024"
        imagePath="/src/assets/wealthsimple.png"
        altText="Wealthsimple - Software Engineer Intern"
        imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5"
        href="https://www.wealthsimple.com"
      >
        <ul class="text-muted-foreground ml-4 list-disc">
          <li>Platform Engineering - Institutional Transfers</li>
        </ul>
      </Card>
      <Card
        heading="Flojoy"
        subheading="Founding Software Engineer"
        date="May 2023 - May 2024"
        imagePath="/src/assets/flojoy.png"
        altText="Flojoy - Founding Software Engineer"
        imageClass="h-12 w-auto md:-left-16"
        href="https://techcrunch.com/2023/08/29/flojoy-is-bringing-no-code-python-testing-to-industrial-instrumentation/"
      >
        <ul class="text-muted-foreground ml-4 list-disc">
          <li>Raised 1.3M USD to modernize heavy industries.</li>
        </ul>
      </Card>
      <div>2021 - 2023</div>

      <Card
        heading="Ciena"
        subheading="Software Engineer Intern"
        date="May 2021 - May 2023"
        imagePath="/src/assets/ciena.png"
        altText="Ciena - Software Engineer Intern"
        imageClass="h-12 w-auto md:-left-16 p-0.5 rounded-xl"
        href="https://ciena.com"
      >
        <!-- <ul class='ml-4 list-disc text-muted-foreground'> -->
        <!-- 	<li>Lead the team to build Flojoy Studio and Flojoy Cloud</li> -->
        <!-- </ul> -->
      </Card>
    </Section>

    <Section title="Educations">
      <Card
        heading="McGill University"
        subheading="Computer Science"
        date="Sep 2022 - April 2026"
        imagePath="/src/assets/mcgill.jpeg"
        altText="McGill University - Computer Science and Statistics"
        imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5"
        href="https://www.mcgill.ca"
      >
        <!-- <ul class='ml-4 list-disc text-muted-foreground'> -->
        <!-- <li> -->
        <!-- Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolore debitis recusandae, ut -->
        <!-- molestiae laboriosam pariatur! -->

        <!-- <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, pariatur!</li> -->
        <!-- </li> -->
        <!-- </ul> -->
      </Card>
    </Section>

    <Section title="Projects">
      <Card
        heading="Fijoy"
        subheading="Joyful net worth tracking for everyone"
        imagePath="/src/assets/fijoy-gradient.png"
        altText="Fijoy - Joyful net worth tracking for everyone"
        imageClass="h-12 w-auto md:-left-16 rounded-xl p-0.5"
        href="https://fijoy.app"
      >
        <!-- <ul class='ml-4 list-disc text-muted-foreground'> -->
        <!-- <li>Transfer Team</li> -->
        <!-- </ul> -->
      </Card>
    </Section>
  </div>

  <div class="py-4"></div>

  <!-- <Chat /> -->
</PageLayout>
